<div id="popupLayer" [ngStyle]="{'display' : (isPopupVisible)?'flex':'none'}">
  <div id="popup">
    <div><i (click)="isPopupVisible = false;" class="fa-solid fa-xmark"></i></div>
    <div>
      <h4>Permissions</h4>
      <ol>
        <li>Modifiers les details de la camera</li>
        <li>Visualiser le flux video de la camera</li>
        <li>Acces aux videos d'infractions de la camera</li>
      </ol>
      <h4>Autres</h4>
      <ul>
        <li><img src="../../assets/icons/ownership1.png" alt="icon ownerchip">Vous etes le proprietaire de la camera.</li>
        <li><img src="../../assets/icons/ownership2.png" alt="icon ownerchip">L'acces a la camera vous a ete octroyer.</li>
      </ul>
    </div>
  </div>
</div>
<div id="mainContainer">
  <div id="cornerWhiteDiv"></div>
  <nav #getEltHeight>
    <a href="#"><img src="../../assets/icons/notepad.png" alt="notepad icon"></a>
    <div>
      <img style="cursor: pointer;" (click)="isPopupVisible=true;" src="../../assets/icons/info (1).png" alt="info icon">
      <a routerLink="/"><img src="../../assets/icons/home.png" alt="home icon"></a>
    </div>
  </nav>
  <main>
    <h1 #getEltHeight>Liste des cam√©ras</h1>
    <div #getEltHeight>
      <input placeholder="Filtrer par localisation ou id" type="search" name="localisation" id="localisation">
      <button type="button"><i class="fa-solid fa-magnifying-glass"></i></button>
    </div>
    <div #getEltHeight>
        <ng-multiselect-dropdown 
            [placeholder]="'Statut'" 
            [settings]="dropdownSettings2" 
            [data]="dropdownListStatus"
            [(ngModel)] ="selectedItemsStatus" 
            (onSelect)="onItemSelectStatus($event)" 
            (onSelectAll)="onSelectAllStatus($event)">
        </ng-multiselect-dropdown>
        
        <ng-multiselect-dropdown 
            [placeholder]="'Permissions'" 
            [settings]="dropdownSettingsPermissions" 
            [data]="dropdownListPermissions"
            [(ngModel)] ="selectedItemsPermissions" 
            (onSelect)="onItemSelectPermissions($event)" 
            (onSelectAll)="onSelectAllPermissions($event)">
      </ng-multiselect-dropdown>
    </div>

    <div id="cameraList">

      <div *ngFor="let item of items" class="cameraCard">
        <div [ngStyle]="(item.status)?{'background-color':'green'}:{'background-color':'red'}">
          <div>
            <img [ngStyle]="(item.isOwner)?{'width': '73px','height': '90px'}:{'width': '70px','height': '70px','margin-top': '10px'}" [src]="(item.isOwner)?'../../assets/icons/ownership1.png':'../../assets/icons/ownership2.png'" alt="icon ownership">
          </div>
        </div>

        <div> 
          <p>
            ID : {{ item.id_camera }} <br>
            Localisation : {{ item.location }} <br>
            Permissions : {{ item.permissions }}
          </p>
        </div>
      </div>
    </div>
    <div style="width: 100%;">
      <ngb-pagination [collectionSize]="fakeData.length" [(page)]="page" [pageSize]="pageSize" [boundaryLinks]="true"
        [maxSize]="2" aria-label="Pagination" class="mt-3 d-flex justify-content-center"
        (pageChange)="loadPageData($event)"></ngb-pagination>
    </div>
    
  </main>
</div>
